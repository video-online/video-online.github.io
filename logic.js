function loadJSON(callback) {
    var xobj = new XMLHttpRequest();
    xobj.overrideMimeType("application/json");
    xobj.open('GET', 'movies-information.json', true);
    xobj.onreadystatechange = function () {
        if (xobj.readyState == 4 && xobj.status == "200") {
            callback(xobj.responseText);
        }
    };
    xobj.send(null);
}

var moviesInformation = '[    {        "id": 1,        "name": "پایتخت 6",        "year": "1398",        "cover": "https://dlroozane.net/wp-content/uploads/2018/04/Paytakht-6.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/Paytakht6/Paytakht.S06E05.1080p.HDTV.mkv",        "brief": "نقی و ارسطو",        "trailer": "",        "rate": "",        "genre": "طنز ، اجتماعی",        "isDubbed": true,        "isFavorite": false,        "season": "6",        "episode": "5"    },    {        "id": 2,        "name": "تروبل",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/03/Trouble.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/99/01/Trouble.2019.1080p.Farsi.Dubbed.mkv",        "brief": "درباره سگی با نام “دردسر” می باشد که باید یاد بگیرد که در دنیای واقعی زندگی کند …",        "trailer": "http://t1.dlrozane.net/dlroozane/99/01/Trouble.mp4",        "rate": "6.4",        "genre": "انیمیشن ، کمدی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 3,        "name": "ریچارد جول",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/03/Richard-Jewell.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/Richard.Jewell.2019.1080p.darsi.Dubbed.mkv",        "brief": "داستان یک نگهبان امنیتی به نام ریچارد جول را به تصویر می‌کشد که در بمب‌گذاری المپیک آتلانتا جان انسان‌های زیادی را نجات داد ، اما چند روز پس از این اتفاق متهم به انجام این بمب‌گذاری شد و…",        "trailer": "http://t1.dlrozane.net/dlroozane/98/12/Richard.Jewell.2019.mp4",        "rate": "7.5",        "genre": "بیوگرافی ، جنایی ، درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 4,        "name": "جکسی",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/03/Jexi.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/Jexi.2019.1080p.Farsi.Dubbed.mkv",        "brief": " داستان کمدی درباره شخصی که گوشی موبایلش را بیش از هرچیز دیگری دوست دارد…",        "trailer": "http://t1.dlrozane.net/dlroozane/98/12/Jexi.2019.mp4",        "rate": "6.1",        "genre": "کمدی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 5,        "name": "جنگ ستارگان 9",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2019/12/Star-Wars-The-Rise-of-Skywalker.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/Star.Wars.The.Rise.of.Skywalker.2020.1080p.Farsi.Dubbed.mkv",        "brief": "داستان قسمت نهم یک سال پس از اتفاقات قسمت هشتم فیلم یعنی آخرین جدای رخ می‌دهد و ادامه‌ی ماجراجویی ری و گروهش را دنبال می‌کند که…",        "trailer": "http://t1.dlrozane.net/dlroozane/98/12/Star.Wars.The.Rise.Of.Skywalker.2019.mp4",        "rate": "5.9",        "genre": "اکشن ، جنایی ، هیجان انگیز",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 6,        "name": "سونیک خارپشت",        "year": "2020",        "cover": "https://dlroozane.net/wp-content/uploads/2019/11/Sonic.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/Sonic.the.Hedgehog.2020.1080p.Farsi.Dubbed.mkv",        "brief": "یک پلیس ماجراجو به نام تام در شهری خوش آب و هوا در گرین هیلز به موجودی عجیب و غریب به نام سونیک برای فرار از دست افرادی خبیث که به دنبال او هستند کمک می‌کند و…",        "trailer": "http://t1.dlrozane.net/dlroozane/98/08/Sonic.mp4",        "rate": "7.1",        "genre": "اکشن ، ماجراجویی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 7,        "name": "توگو",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/01/Togo.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/10/Togo.2019.1080p.Farsi.Dubbed.mkv",        "brief": "این فیلم داستان یک سگ سورتمه‌ای به نام توگو را به تصویر می‌کشد که هدایت یک گروه از سگ‌ها را در دهه‌ی بیست میلادی بر عهده دارد ، اما اکثر افراد هدایت چنین سگ کوچک و ضعیفی را باورنکردنی می‌دانند و…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/10/Togo.2019.mp4",        "rate": "8.2",        "genre": "ماجراجویی ، درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 8,        "name": "دانتون ابی",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/01/Downton-Abbey.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/10/Togo.2019.1080p.Farsi.Dubbed.mkv",        "brief": "وقایع دانتون ابی در یک قصر بزرگ در یورک‌شر رخ می‌دهد و در آن ، داستان زندگی یک خانواده‌ی اشرافی به نام خاندان کرالی به همراه خدمتکاران‌شان ، در دوران پس از سلطنت ادوارد هفتم و در خلال سلطنت جرج پنجم و پس از آن ، روایت می‌شود و…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/10/Downton.Abbey.2019.mp4",        "rate": "7.5",        "genre": "درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 9,        "name": "فاکس ترات",        "year": "2020",        "cover": "https://dlroozane.net/wp-content/uploads/2020/03/Foxtrot-Six.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/Foxtrot.Six.2020.1080p.WEB-DL.PAHE.mkv",        "brief": "یک سرباز کهنه کار نیروی دریایی به همراه دوستانش تلاش دارند تا کشور اندونزی را از دست حزب حاکم نجات دهند…",        "trailer": "http://t1.dlrozane.net/dlroozane/98/12/Foxtrot.Six.mp4",        "rate": "6.6",        "genre": "اکشن ، درام ، علمی تخیلی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 10,        "name": "معدن شماره 9",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/01/Mine-9.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/Mine.9.2019.1080p.Farsi.Dubbed.mkv",        "brief": "دو معدنچی کوه های آپالانچی در پی انفجاری در ارتفاع دو مایلی زیر زمین گیر می افتند و تنها به اندازه ی یک ساعت اکسیژن دارند.",        "trailer": "http://s7.dlrozane.net/dlroozane/98/10/Mine.9.2019.mp4",        "rate": "7.4",        "genre": "درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 11,        "name": "پیک",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/02/The-Courier.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/The.Courier.2019.720p.Farsi.Dubbed.mkv",        "brief": "یک پیک در شهر لندن این موضوع مهم و مرموز را کشف می‌کند که یکی از بسته‌هایی که او حمل می‌کند یک بمب است و…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/12/The.Courier.2019.mp4",        "rate": "5.6",        "genre": "اکشن ، جنایی ، درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 12,        "name": "انگل",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2019/10/Parasite.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/07/Parasite.2019.1080p.DUBLE.mkv",        "brief": "خانواده‌ای کره‌ای که تمامی اعضای آن بیکار هستند و برای امرار معاش در پارک‌های مجلل و پرزرق و برق رفت و آمد می‌کنند، درگیر حادثه‌ای غیرمنتظره می‌شوند که…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/07/Parasite.2019.mp4",        "rate": "8.5",        "genre": "کمدی ، درام ، هیجان انگیز",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 13,        "name": "جوجو خرگوشه",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/02/Jojo-Rabbit.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/11/Jojo.Rabbit.2019.1080p.Farsi.Dubbed.mkv",        "brief": "داستان این فیلم درباره‌ی یک پسر نوجوان و خجالتی آلمانی به نام جوجو می‌باشد که توسط مادری تنها بزرگ شده است و در میان جنگ جهانی دوم با تنها دوست خیالی خود یعنی آدولف هیتلر به انجام کارهای مختلف و هیجان‌انگیزی دست می‌زند که…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/11/Jojo%20Rabbit%202019.mp4",        "rate": "8.0",        "genre": "کمدی ، درام ، جنگی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 14,        "name": "چاقوکشی",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2019/12/Knives-Out.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/11/Knives.Out.2019.1080p.WEB-Dl.Farsi.Dubbed.mkv",        "brief": "داستان این فیلم در مورد مرگ نویسنده‌ی رمان‌های جنایی یعنی هرلان ترومبی هست که دقیقا بعد از تولد هشتاد و پنج سالگی‌اش جسد وی در ملکش پیدا می‌شود. بنوئیت بلانک کارآگاه کنجکاو و خوش‌رفتاری می‌باشد که در مورد این پرونده‌ی اسرارآمیز تحقیق می‌کند. از خانواده‌ی غیرمعمولی هرلان گرفته تا خدمه‌ی وفادار وی همگی جزو مظنونین قتل هستند و بلانک نیز به دنبال حقیقت پشت این قتل می‌باشد و…",        "trailer": "",        "rate": "8.1",        "genre": "کمدی ، جنایی ، درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 15,        "name": "ایپ من",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2019/11/Ip-Man-4.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/11/Ip.Man.4.2019.1080p.HC.HDRip.mkv",        "brief": "ایپ من استاد کنگ‌فو به آمریکا سفر می‌کند ، جایی که شاگردش با باز کردن یک آموزشگاه هنرهای رزمی به نام وینگ چان ، موجب ناراحتی جامعه‌ی محلی هنرهای رزمی شده است و…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/08/IP%20MAN4.mp4",        "rate": "7.5",        "genre": "اکشن ، بیوگرافی ، درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 16,        "name": "خبر چین",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/01/The-Informer.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/11/The.Informer.2019.1080p.Farsi.Dubbed.mkv",        "brief": "مردی به نام پیت کوزلو که دوران محکومیت خود را سپری کرده‌است، به عنوان مامور مخفی اداره تحقیقات فدرال آمریکا وارد یک زندان فوق امنیتی می‌شود تا به درون باند تبهکاران لهستانی نفوذ کند و…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/11/The.Informer.2019.mp4",        "rate": "6.5",        "genre": "جنایی ، درام ، ماجراجویی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 17,        "name": "هفت دنیا یک سیاره",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2019/10/Seven-Worlds-One-Planet.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/Seven.Worlds.One.Planet/Seven.Worlds.One.Planet.S01E01.1080p.WEB-DL.mkv",        "brief": "هفت دنیا یک سیاره، مستندی هفت قسمتی محصول شبکه BBC و با حضور دیوید اتنبرو و موسیقی هانس زیمر است. این مستند نقش هر کدام از قاره‌ ها را در زندگی حیوانات به تصویر خواهد کشید. «دیوید اتنبرو» قصد دارد در جریان این مستند که سفری از عمیق‌ ترین مناطق ‌آفریقا ‌تا دریاهای اطراف قطب جنوب است،‌ مخاطبان را از دیدگاهی دیگر با حیات وحش آشنا کند. در جریان این مجموعه،‌ چالش‌های بزرگی که حیوانات در دنیای تحت سلطه‌ انسان‌ ها با آن مواجه هستند به نمایش گذاشته می‌‌شود…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/Seven.Worlds.One.Planet/Seven.Worlds.One.Planet.mp4",        "rate": "9.7",        "genre": "مستند - قسمت 1",        "isDubbed": true,        "isFavorite": false,        "season": "1",        "episode": "1"    },    {        "id": 18,        "name": "مرکز تروما",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/01/Trauma-Center.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/10/Trauma.Center.2019.1080p.Farasi.Dubbed.mkv",        "brief": "داستان این فیلم از آنجایی شروع می‌شود که در یک شب فردی شاهد یک قتل می‌شود و مجروح می‌شود ، اکنون او در بیمارستان بعد از گذشت مدتی گرفتار دو قاتل می‌شود که سعی دارند او را از بین ببرند تا شاهدی باقی نماند. اما…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/10/Trauma.Center.2019.mp4",        "rate": "5.1",        "genre": "اکشن ، هیجان انگیز",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 19,        "name": "مونوس",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/01/Monos.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/10/Monos.2019.1080p.WEB-DL.mkv",        "brief": "داستان این فیلم که در یک کوهستان دورافتاده در جریان می‌باشد ، درباره‌ی گروهی مسلح می‌باشد که از یک گروگان و همینطور یک گاو محافظت می‌کنند. اما طولی نمی‌کشد که ماجراهای غیرقابل پیش‌بینی رخ می‌دهد و…",        "trailer": "http://s7.dlrozane.net/dlroozane/98/10/Monos.2019.mp4",        "rate": "7.6",        "genre": "هیجان انگیز ، ماجراجویی ، درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 20,        "name": "داستان ازدواج",        "year": "2019",        "cover": "https://dlroozane.net/wp-content/uploads/2020/01/Marriage-Story-1.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/10/Marriage.Story.2019.1080p.WEB-DL.Farsi.Dubbed.mkv",        "brief": "داستان در مورد یک کارگردان تئاتر است که با همسرش به مشکل خورده و جدایی شان منجر به شکوفایی خلاقیت شان شده است.",        "trailer": "http://s7.dlrozane.net/dlroozane/98/10/Marriage.Story.mp4",        "rate": "8.1",        "genre": "درام ، کمدی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 21,        "name": "تیمی فلیر اشتباهاتی اتفاق افتاد",        "year": "2020",        "cover": "https://dlroozane.net/wp-content/uploads/2020/03/Timmy-Failure-Mistakes-Were-Made.jpg",        "URL": "http://s7.dlrozane.net/dlroozane/98/12/Timmy.Failure.Mistakes.Were.Made.2020.1080p.Farsi.Dubbed.mkv",        "brief": "پسری 11 ساله که معتقد است بهترین کارآگاه در شهر است، با بهترین دوست خود که یک خرس است به ماجراجویی می پردازد و …",        "trailer": "http://t1.dlrozane.net/dlroozane/98/12/Timmy.Failure.Mistakes.Were.Made.2020.mp4",        "rate": "6.2",        "genre": "ماجراجویی ، کمدی ، درام",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    },    {        "id": 22,        "name": "شرلوک نومز",        "year": "2020",        "cover": "https://dlroozane.net/wp-content/uploads/2018/06/Sherlock-Gnomes-2.jpg",        "URL": "http://s5.dlrozane.net/dlroozane/97/03/Sherlock.Gnomes.2018.1080p.Farsi.Dubbed.mkv",        "brief": "ومئو و ژولیت، کارآگاه افسانه‌ای یعنی شرلوک گنومز را استخدام می‌کنند تا در مورد ناپدید شدن تعدادی از باغ‎های گنومز در لندن تحقیق کند و…",        "trailer": "http://s5.dlrozane.net/dlroozane/97/03/Sherlock%20Gnomes.mp4",        "rate": "5.0",        "genre": "انیمیشن ، هیجان انگیز ، کمدی",        "isDubbed": true,        "isFavorite": false,        "season": "",        "episode": ""    }]';

function openWin(movieURL, posterURL = "https://inspirecast.ca/wp-content/uploads/2016/01/Robert-Kiyosaki-The-only-difference-between-a-rich-person-and-poor-person-is-how-they-use-their-time.jpg") {
    var myWindow = window.open("MOVIE");
    myWindow.document.write(`<title>AK Movie</title><video src="${movieURL}" style="width:100%;height:100%" poster="${posterURL}" controls=""></video>`);
}

function movieExtractor() {
    var movies = JSON.parse(moviesInformation);
    console.log(movies)
    for (var i = movies.length - 1; i >= 0; i--) {
        var movieCard =
            `<!-- Movie Card --><div class='card persian'><img src = ${movies[i].cover} class='movie-cover' ><div class='overlay'><div class='text'><h3>خلاصه داستان</h3><hr><h4>${movies[i].brief}</h4><hr><button class='card-button trailer-button' onclick="$('.ui.modal.${movies[i].id}').modal('show');">تریلر<i class='fas fa-film button-icon-with-text'></i></button><button class='card-button play-button' onclick='openWin("${movies[i].URL}")'><i class='far fa-play-circle button-icon-without-text'></i></button><button class='card-button favorite-button'><i class='far fa-heart button-icon-without-text'></i></button></div></div><div class='container center-text'><h4 class="movie-name"><b>${movies[i].name}</b></h4><h4>دوبله - ${movies[i].rate} - ${movies[i].year}</h4><h5>${movies[i].genre}</h5></div></div> <div class="ui modal ${movies[i].id}"><div class="header trailer-name">${movies[i].name}</div><video src="${movies[i].trailer}"style="width:100%;height:100%" controls=""></video></div>`;
        $(".movies").append(movieCard);
    }

    $(document).ready(function () {
        $('body').persianNum();
    })
}

movieExtractor()
// loadJSON(movieExtractor);